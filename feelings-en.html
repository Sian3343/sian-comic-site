<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moodbook - English Version</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  <style>
    /* ... 原本 CSS 保持唔變 ... */
    /* 你已有 CSS 內容無需更動，我略去重複部分 */
  </style>
</head>
<body>
  <nav class="sidebar" id="sidebar">
    <!-- 側邊欄內容保持唔變 -->
  </nav>

  <main>
    <h1>🖌️Moodbook (English Version)</h1>
    <p style="text-align: center; max-width: 700px; margin: 0 auto 30px;">
      Mood sketches drawn in different moments — not always polished, but always honest.
    </p>

    <div class="gallery" id="gallery"></div>

    <div class="pagination" id="pagination"></div>
  </main>

  <footer>© 2025 Sian | Moodbook - English Version</footer>

  <div class="lightbox-overlay" id="lightbox">
    <img src="" alt="Enlarged Image" id="lightbox-img">
  </div>

  <script>
    const totalImages = 32;
    const imagesPerPage = 15;
    let currentPage = 1;
    let currentImageIndex = 0;

    function showGalleryPage(page) {
      const gallery = document.getElementById("gallery");
      const pagination = document.getElementById("pagination");
      gallery.innerHTML = "";
      pagination.innerHTML = "";

      const totalPages = Math.ceil(totalImages / imagesPerPage);
      const start = totalImages - (page - 1) * imagesPerPage;
      const end = Math.max(start - imagesPerPage + 1, 1);

      for (let i = start; i >= end; i--) {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="feelings/${String(i).padStart(2, '0')}.jpg" alt="Mood ${i}" onclick="openLightbox(${i})">
          <div class="caption">圖 #${i}</div>
        `;
        gallery.appendChild(card);
      }

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        if (i === page) btn.classList.add("active");
        btn.onclick = () => {
          currentPage = i;
          showGalleryPage(i);
          window.scrollTo({ top: 0, behavior: "smooth" });
        };
        pagination.appendChild(btn);
      }
    }

    function openLightbox(index) {
      const lightbox = document.getElementById("lightbox");
      const img = document.getElementById("lightbox-img");
      currentImageIndex = index;
      img.src = `feelings/${String(index).padStart(2, '0')}.jpg`;
      lightbox.style.display = "flex";
    }

    function closeLightbox() {
      document.getElementById("lightbox").style.display = "none";
    }

    document.getElementById("lightbox").onclick = closeLightbox;

    document.addEventListener("keydown", function(e) {
      const lightbox = document.getElementById("lightbox");
      if (lightbox.style.display === "flex") {
        if (e.key === "Escape") closeLightbox();
        else if (e.key === "ArrowLeft" && currentImageIndex > 1) openLightbox(currentImageIndex - 1);
        else if (e.key === "ArrowRight" && currentImageIndex < totalImages) openLightbox(currentImageIndex + 1);
      }
    });

    showGalleryPage(currentPage);
  </script>

</body>
</html>
